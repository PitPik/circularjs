define("game-service",[],function(){"use strict";function s(e,r,n,i){for(var o=r-1,s=r+1;o<=s;o++)if(e[o])for(var d=n-1,t=n+1;d<=t;d++)!e[o].childNodes[d]||o===r&&d===n||i(o,d,e[o].childNodes[d])}return{createBoard:function(e,r){for(var n=[],i=e[0];i--;){n[i]={childNodes:[]};for(var o=e[1];o--;)n[i].childNodes[o]={mark:"",isProcessed:!1,isMine:!1}}return function(e,r,n){for(;n;){var i=Math.floor(Math.random()*r[0]),o=Math.floor(Math.random()*r[1]);e[i].childNodes[o].isMine||(e[i].childNodes[o].isMine=!0,n--,s(e,i,o,function(e,r,n){n.surroundingMines=isNaN(n.surroundingMines)?1:n.surroundingMines+1}))}return e}(n,e,r)},lookAround:s}}),define("game-controller",["game-service"],function(r){"use strict";function i(i,e,o,s){return r.lookAround(i,e.parentNode.index,e.index,function(e,r,n){void 0!==s?"marked"===n.mark&&s++:!o&&(n.isMine||n.isProcessed)||d(i,n)}),s}function d(e,r,n){if(r.isProcessed&&void 0!==n){if(delete d._win&&i(e,r,!1,0)===r.surroundingMines&&i(e,r,!0),!1===d._win)return!1}else if(n&&!r.isProcessed)r.mark="marked"===r.mark?"open":"open"===r.mark?"":"marked";else{if(r.isMine&&"marked"!==r.mark)return e.getElementsByProperty("isMine",!0).forEach(function(e){e.mark=e===r?"mine last":"mine"}),d._win=!1;"marked"===r.mark||r.isProcessed||(r.mark="",r.isProcessed=!0,r.surroundingMines||i(e,r))}return function(e){for(var r=e.length;r--;)if(!e[r].isMine||"marked"!==e[r].mark)return;return!0}(e.getElementsByProperty("isProcessed",!1))}return{checkItem:d}});
//# sourceMappingURL=game.min.js.map